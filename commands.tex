\usepackage{xparse}

% MATH SHORT-HAND

\NewDocumentCommand{\link}{ s D(){i} D(){j} }{
    \IfBooleanTF{#1}
        {#2 \not\rightarrow #3}
        {#2     \rightarrow #3}
}

\NewDocumentCommand{\sub}{ d() D(){ij} }{ #1_{#2} }

% WRAPPERS

\NewDocumentCommand{\xfig}{ O{!htb} m }{
    \begin{figure}[#1]
        #2
    \end{figure}
}

\NewDocumentCommand{\xtab}{ O{!htb} m }{
    \begin{table}[#1]
        #2
    \end{table}
}

\NewDocumentCommand{\xwrap}{ O{r} m O{0.5\textwidth} }{
    \begin{wrapfigure}{#1}{#3}
        #2
    \end{wrapfigure}
}

% CONTENT

\NewDocumentCommand{\ximg}{ O{width=\textwidth} D//{figures} m O{} }{
    \centering
    \includegraphics[#1]{#2/#3}
    \captionof{figure}{#4} 
    \label{#3}
}

\NewDocumentCommand{\xtex}{ O{table} D//{tables} m O{} }{
    \centering
    \input{#2/#3}
    \captionof{#1}{#4} 
    \label{#3}
}

\NewDocumentCommand{\xanim}{ O{width=\textwidth} D||{12} m O{} }{
    \centering
    \animategraphics[#1]{#2}{figures/#3}{}{}
    \captionof{animation}{#4}
    \label{#3}
}

% MULTIPLES

\NewDocumentCommand{\xdouble}{ O{!htb} m m }{
    \begin{figure}[#1]
        \centering
        \begin{minipage}[t]{.48\textwidth}
            #2
        \end{minipage}%
        \hfill%
        \begin{minipage}[t]{.48\textwidth}
            #3
        \end{minipage}
    \end{figure}
}

\NewDocumentCommand{\xquad}{ O{!htb} m m m m }{
    \begin{figure}[#1]
        \centering
        \begin{minipage}[t]{.48\textwidth}
            #2
        \end{minipage}%
        \hfill%
        \begin{minipage}[t]{.48\textwidth}
            #3
        \end{minipage}
        \vskip\baselineskip
        \begin{minipage}[t]{.48\textwidth}
            #4
        \end{minipage}%
        \hfill%
        \begin{minipage}[t]{.48\textwidth}
            #5
        \end{minipage}
    \end{figure}
}

\NewDocumentCommand{\xhex}{ O{!htb} m m m m m m }{
    \begin{figure}[#1]
        \centering
        \begin{minipage}[t]{.48\textwidth}
            #2
        \end{minipage}%
        \hfill%
        \begin{minipage}[t]{.48\textwidth}
            #3
        \end{minipage}
        \vskip\baselineskip
        \begin{minipage}[t]{.48\textwidth}
            #4
        \end{minipage}%
        \hfill%
        \begin{minipage}[t]{.48\textwidth}
            #5
        \end{minipage}
        \vskip\baselineskip
        \begin{minipage}[t]{.48\textwidth}
            #6
        \end{minipage}%
        \hfill%
        \begin{minipage}[t]{.48\textwidth}
            #7
        \end{minipage}
    \end{figure}
}